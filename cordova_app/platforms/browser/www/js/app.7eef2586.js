(function(t){function n(n){for(var o,i,c=n[0],l=n[1],s=n[2],p=0,f=[];p<c.length;p++)i=c[p],a[i]&&f.push(a[i][0]),a[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(n);while(f.length)f.shift()();return r.push.apply(r,s||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],o=!0,c=1;c<e.length;c++){var l=e[c];0!==a[l]&&(o=!1)}o&&(r.splice(n--,1),t=i(i.s=e[0]))}return t}var o={},a={app:0},r=[];function i(n){if(o[n])return o[n].exports;var e=o[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=o,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)i.d(e,o,function(n){return t[n]}.bind(null,o));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=n,c=c.slice();for(var s=0;s<c.length;s++)n(c[s]);var u=l;r.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"00a3":function(t,n,e){t.exports=e.p+"img/logo_sixx.c77e49b7.png"},"0c62":function(t,n,e){},"26e6":function(t,n,e){"use strict";var o=e("90ec"),a=e.n(o);a.a},"30f8":function(t,n,e){t.exports=e.p+"img/logo_history.d1d83415.png"},"416a":function(t,n,e){t.exports=e.p+"img/logo_vox.a285943f.png"},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d");var o=e("2b0e"),a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],i=(e("5c0b"),e("2877")),c={},l=Object(i["a"])(c,a,r,!1,null,null,null),s=l.exports,u=e("8c4f"),p=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"programguide"},[t.loading?t._e():e("div",{staticClass:"channel--logo-container"},t._l(t.channels,function(t,n){return e("channel-logo",{key:n,attrs:{"channel-data":t}})}),1),t.loading?t._e():e("timeline",t._l(t.channels,function(t,n){return e("channel",{key:n,attrs:{"channel-data":t}})}),1),t.loading?e("p",[t._v("Loading")]):t._e()],1)},f=[],d=e("cebc"),g=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"timeline"},[e("div",{ref:"timelinetrack",staticClass:"timeline--track",attrs:{draggable:"true"}},[e("div",{staticClass:"timeline--clock",style:{width:t.dayWidth+"px"}},t._l(24,function(n,o){return e("p",{key:o,staticClass:"timeline--hour",style:{left:t.hourWidth*(n-1)+"px"}},[t._v("\n        "+t._s(n-1)+":00")])}),0),e("playhead",{attrs:{"x-position":t.playheadPosition}}),t._t("default")],2),e("button",{staticClass:"button--now",on:{click:function(n){return t.updateTimelinePosition()}}},[t._v("Now")])])},h=[],m="//localhost:1337",v=6,b={sky1:"#00baff",silver:"#e12b3a",hbo:"#fcc607",cw:"#267911",vox:"#b30013",history:"#d57722",tv2norway:"#037a79",channel5:"#c81e3b",sixx:"#74de09"},_={sky1:"logo_sky1.png",silver:"logo_silver.png",hbo:"logo_hbo.png",cw:"logo_cw.png",vox:"logo_vox.png",history:"logo_history.png",tv2norway:"logo_tv2.png",channel5:"logo_channel5.png",sixx:"logo_sixx.png"},y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"playhead",style:{left:t.xPosition+"px"}},[e("div",{staticClass:"top-box"})])},x=[],w=(e("c5f6"),{name:"playhead",props:{xPosition:{type:Number,default:0}}}),D=w,O=(e("adfd"),Object(i["a"])(D,y,x,!1,null,"59ba6277",null)),P=O.exports,j={name:"Timeline",components:{Playhead:P},data:function(){return{dayWidth:60*v*24,hourWidth:60*v,playheadPosition:0,timer:null}},methods:{calcPlayheadPositionFromDate:function(){var t=new Date;this.playheadPosition=(t.getHours()+t.getMinutes()/60)*this.hourWidth},calcTimelinePositionFromDate:function(){var t=new Date,n=window.innerWidth,e=(t.getHours()+t.getMinutes()/60)*this.hourWidth;this.$refs.timelinetrack.scrollLeft=e-n/2},updateTimelinePosition:function(){this.calcPlayheadPositionFromDate(),this.calcTimelinePositionFromDate()}},mounted:function(){this.timer=setInterval(this.calcPlayheadPositionFromDate,1e3)},beforeDestroy:function(){clearInterval(this.timer)}},C=j,k=(e("26e6"),Object(i["a"])(C,g,h,!1,null,"1a27a368",null)),T=k.exports,E=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"channel"},t._l(t.channelData.schedules,function(n,o){return e("program",{key:o,attrs:{"program-data":n,"channel-color":t.channelColor}})}),1)},M=[],A=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"program",class:{active:t.active},style:{width:t.elemWidth+"px","border-bottom":"2px solid "+t.channelColor}},[e("div",{staticClass:"program--content"},[e("p",{staticClass:"program--title"},[t._v(t._s(t.programData.title))]),e("p",[t._v(t._s(t.start)+" - "+t._s(t.end))])])])},R=[],$={name:"program",props:{programData:{type:Object,default:null},channelColor:{type:String,default:"#fff"}},computed:{duration:function(){var t=new Date(this.programData.start),n=new Date(this.programData.end);return(n-t)/1e3/60},start:function(){var t=new Date(this.programData.start);return"".concat(t.getHours(),":").concat(("0"+t.getMinutes()).slice(-2))},end:function(){var t=new Date(this.programData.end);return"".concat(t.getHours(),":").concat(("0"+t.getMinutes()).slice(-2))},elemWidth:function(){return this.duration?this.duration*v:200},active:function(){var t=new Date(this.programData.start).getTime(),n=new Date(this.programData.end).getTime(),e=(new Date).getTime();return t<e&&e<n}}},F=$,W=(e("8411"),Object(i["a"])(F,A,R,!1,null,"58b002d2",null)),H=W.exports,S={name:"channel",components:{Program:H},props:{channelData:{type:Object,default:null}},computed:{channelColor:function(){return b[this.channelData.id]}}},G=S,L=(e("e8ff"),Object(i["a"])(G,E,M,!1,null,"6b981cb5",null)),N=L.exports,U=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"channel-logo"},[e("div",{staticClass:"channel--info",style:{background:t.channelColor}},[e("img",{attrs:{src:t.imageUrl}})])])},I=[],J=e("9142"),q={name:"channel-logo",props:{channelData:{type:Object,default:null}},computed:{imageUrl:function(){return J("./".concat(_[this.channelData.id]))},channelColor:function(){return b[this.channelData.id]}}},z=q,B=(e("732b"),Object(i["a"])(z,U,I,!1,null,"43ec69aa",null)),K=B.exports,Q={FETCH_PROGRAM_DATA:"fetchProgramData"},V=e("2f62"),X={name:"programguide",components:{Timeline:T,Channel:N,ChannelLogo:K},mounted:function(){this.programData||this.fetchProgramData()},computed:Object(d["a"])({},Object(V["c"])("common",["loading","channels"])),methods:Object(d["a"])({},Object(V["b"])("common",{fetchProgramData:Q.FETCH_PROGRAM_DATA}))},Y=X,Z=(e("e680"),Object(i["a"])(Y,p,f,!1,null,"083a2d03",null)),tt=Z.exports;o["a"].use(u["a"]);var nt=new u["a"]({routes:[{path:"/",name:"program-guide",component:tt}]}),et=e("bd86"),ot=(e("96cf"),e("3b8d")),at=e("d225"),rt=e("b0b4"),it=e("bc3a"),ct=e.n(it),lt=function(){function t(){Object(at["a"])(this,t)}return Object(rt["a"])(t,[{key:"fetchProgramGuide",value:function(){var t=Object(ot["a"])(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ct.a.get("".concat(m,"/epg"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t)}));function n(){return t.apply(this,arguments)}return n}()}]),t}(),st=new lt,ut={loading:!1,channels:null},pt=Object(et["a"])({},Q.FETCH_PROGRAM_DATA,function(){var t=Object(ot["a"])(regeneratorRuntime.mark(function t(n){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n.commit("loading",!0),t.next=3,st.fetchProgramGuide().catch(function(){alert("failed to load data")});case 3:e=t.sent,n.commit("updateChannels",e),n.commit("loading",!1);case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()),ft={loading:function(t,n){t.loading=n},updateChannels:function(t,n){t.channels=n.channels?n.channels:null}},dt={namespaced:!0,state:ut,actions:pt,mutations:ft};o["a"].use(V["a"]);var gt=new V["a"].Store({modules:{common:dt}});if(o["a"].config.productionTip=!1,new o["a"]({router:nt,store:gt,render:function(t){return t(s)}}).$mount("#app"),"file:"===window.location.protocol||"8080"===window.location.port){var ht=document.createElement("script");ht.setAttribute("type","text/javascript"),ht.setAttribute("src","cordova.js"),document.body.appendChild(ht)}var mt=function(){new o["a"]({router:nt,store:gt,render:function(t){return t(s)}}).$mount("#app")};document.addEventListener("deviceready",mt,!1),window.cordova||mt()},"5c0b":function(t,n,e){"use strict";var o=e("5e27"),a=e.n(o);a.a},"5e27":function(t,n,e){},"5ee8":function(t,n,e){t.exports=e.p+"img/logo_cw.a0d358b7.png"},"6dfe":function(t,n,e){},"6fa8":function(t,n,e){t.exports=e.p+"img/logo_silver.5262a505.png"},"732b":function(t,n,e){"use strict";var o=e("6dfe"),a=e.n(o);a.a},7420:function(t,n,e){t.exports=e.p+"img/logo_channel5.703e8070.png"},8411:function(t,n,e){"use strict";var o=e("fa13"),a=e.n(o);a.a},8744:function(t,n,e){},"90ec":function(t,n,e){},9142:function(t,n,e){var o={"./logo.png":"cf05","./logo_channel5.png":"7420","./logo_cw.png":"5ee8","./logo_hbo.png":"e9ac","./logo_history.png":"30f8","./logo_silver.png":"6fa8","./logo_sixx.png":"00a3","./logo_sky1.png":"9c44","./logo_tv2.png":"b256","./logo_vox.png":"416a"};function a(t){var n=r(t);return e(n)}function r(t){var n=o[t];if(!(n+1)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n}a.keys=function(){return Object.keys(o)},a.resolve=r,t.exports=a,a.id="9142"},"9c44":function(t,n,e){t.exports=e.p+"img/logo_sky1.12630880.png"},"9f28":function(t,n,e){},adfd:function(t,n,e){"use strict";var o=e("8744"),a=e.n(o);a.a},b256:function(t,n,e){t.exports=e.p+"img/logo_tv2.de1e2536.png"},cf05:function(t,n,e){t.exports=e.p+"img/logo.82b9c7a5.png"},e680:function(t,n,e){"use strict";var o=e("0c62"),a=e.n(o);a.a},e8ff:function(t,n,e){"use strict";var o=e("9f28"),a=e.n(o);a.a},e9ac:function(t,n,e){t.exports=e.p+"img/logo_hbo.cdb8ed4d.png"},fa13:function(t,n,e){}});
//# sourceMappingURL=app.7eef2586.js.map